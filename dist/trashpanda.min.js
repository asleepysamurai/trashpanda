!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.TrashPanda=t()}}(function(){var t;return function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return o(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,n,r){(function(e,r){!function(){function o(){}function i(t){return t}function a(t){return!!t}function s(t){return!t}function u(t){return function(){if(null===t)throw new Error("Callback was already called.");t.apply(this,arguments),t=null}}function c(t){return function(){null!==t&&(t.apply(this,arguments),t=null)}}function l(t){return D(t)||"number"==typeof t.length&&t.length>=0&&t.length%1===0}function f(t,e){for(var n=-1,r=t.length;++n<r;)e(t[n],n,t)}function h(t,e){for(var n=-1,r=t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}function p(t){return h(Array(t),function(t,e){return e})}function d(t,e,n){return f(t,function(t,r,o){n=e(n,t,r,o)}),n}function m(t,e){f(H(t),function(n){e(t[n],n)})}function g(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}function v(t){var e,n,r=-1;return l(t)?(e=t.length,function(){return r++,e>r?r:null}):(n=H(t),e=n.length,function(){return r++,e>r?n[r]:null})}function y(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),o=0;n>o;o++)r[o]=arguments[o+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r)}}}function $(t){return function(e,n,r){return t(e,r)}}function w(t){return function(e,n,r){r=c(r||o),e=e||[];var i=v(e);if(0>=t)return r(null);var a=!1,s=0,l=!1;!function f(){if(a&&0>=s)return r(null);for(;t>s&&!l;){var o=i();if(null===o)return a=!0,void(0>=s&&r(null));s+=1,n(e[o],o,u(function(t){s-=1,t?(r(t),l=!0):f()}))}}()}}function b(t){return function(e,n,r){return t(q.eachOf,e,n,r)}}function A(t){return function(e,n,r,o){return t(w(n),e,r,o)}}function O(t){return function(e,n,r){return t(q.eachOfSeries,e,n,r)}}function x(t,e,n,r){r=c(r||o),e=e||[];var i=l(e)?[]:{};t(e,function(t,e,r){n(t,function(t,n){i[e]=n,r(t)})},function(t){r(t,i)})}function E(t,e,n,r){var o=[];t(e,function(t,e,r){n(t,function(n){n&&o.push({index:e,value:t}),r()})},function(){r(h(o.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})}function _(t,e,n,r){E(t,e,function(t,e){n(t,function(t){e(!t)})},r)}function S(t,e,n){return function(r,o,i,a){function s(){a&&a(n(!1,void 0))}function u(t,r,o){return a?void i(t,function(r){a&&e(r)&&(a(n(!0,t)),a=i=!1),o()}):o()}arguments.length>3?t(r,o,u,s):(a=i,i=o,t(r,u,s))}}function j(t,e){return e}function T(t,e,n){n=n||o;var r=l(e)?[]:{};t(e,function(t,e,n){t(y(function(t,o){o.length<=1&&(o=o[0]),r[e]=o,n(t)}))},function(t){n(t,r)})}function I(t,e,n,r){var o=[];t(e,function(t,e,r){n(t,function(t,e){o=o.concat(e||[]),r(t)})},function(t){r(t,o)})}function R(t,e,n){function r(t,e,n,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");return t.started=!0,D(e)||(e=[e]),0===e.length&&t.idle()?q.setImmediate(function(){t.drain()}):(f(e,function(e){var i={data:e,callback:r||o};n?t.tasks.unshift(i):t.tasks.push(i),t.tasks.length===t.concurrency&&t.saturated()}),void q.setImmediate(t.process))}function i(t,e){return function(){a-=1;var n=!1,r=arguments;f(e,function(t){f(s,function(e,r){e!==t||n||(s.splice(r,1),n=!0)}),t.callback.apply(t,r)}),t.tasks.length+a===0&&t.drain(),t.process()}}if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var a=0,s=[],c={tasks:[],concurrency:e,payload:n,saturated:o,empty:o,drain:o,started:!1,paused:!1,push:function(t,e){r(c,t,!1,e)},kill:function(){c.drain=o,c.tasks=[]},unshift:function(t,e){r(c,t,!0,e)},process:function(){for(;!c.paused&&a<c.concurrency&&c.tasks.length;){var e=c.payload?c.tasks.splice(0,c.payload):c.tasks.splice(0,c.tasks.length),n=h(e,function(t){return t.data});0===c.tasks.length&&c.empty(),a+=1,s.push(e[0]);var r=u(i(c,e));t(n,r)}},length:function(){return c.tasks.length},running:function(){return a},workersList:function(){return s},idle:function(){return c.tasks.length+a===0},pause:function(){c.paused=!0},resume:function(){if(c.paused!==!1){c.paused=!1;for(var t=Math.min(c.concurrency,c.tasks.length),e=1;t>=e;e++)q.setImmediate(c.process)}}};return c}function N(t){return y(function(e,n){e.apply(null,n.concat([y(function(e,n){"object"==typeof console&&(e?console.error&&console.error(e):console[t]&&f(n,function(e){console[t](e)}))})]))})}function k(t){return function(e,n,r){t(p(e),n,r)}}function L(t){return y(function(e,n){var r=y(function(n){var r=this,o=n.pop();return t(e,function(t,e,o){t.apply(r,n.concat([o]))},o)});return n.length?r.apply(this,n):r})}function C(t){return y(function(e){var n=e.pop();e.push(function(){var t=arguments;r?q.setImmediate(function(){n.apply(null,t)}):n.apply(null,t)});var r=!0;t.apply(this,e),r=!1})}var P,q={},U="object"==typeof self&&self.self===self&&self||"object"==typeof r&&r.global===r&&r||this;null!=U&&(P=U.async),q.noConflict=function(){return U.async=P,q};var F=Object.prototype.toString,D=Array.isArray||function(t){return"[object Array]"===F.call(t)},M=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},H=Object.keys||function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e},W="function"==typeof setImmediate&&setImmediate,B=W?function(t){W(t)}:function(t){setTimeout(t,0)};"object"==typeof e&&"function"==typeof e.nextTick?q.nextTick=e.nextTick:q.nextTick=B,q.setImmediate=W?B:q.nextTick,q.forEach=q.each=function(t,e,n){return q.eachOf(t,$(e),n)},q.forEachSeries=q.eachSeries=function(t,e,n){return q.eachOfSeries(t,$(e),n)},q.forEachLimit=q.eachLimit=function(t,e,n,r){return w(e)(t,$(n),r)},q.forEachOf=q.eachOf=function(t,e,n){function r(t){s--,t?n(t):null===i&&0>=s&&n(null)}n=c(n||o),t=t||[];for(var i,a=v(t),s=0;null!=(i=a());)s+=1,e(t[i],i,u(r));0===s&&n(null)},q.forEachOfSeries=q.eachOfSeries=function(t,e,n){function r(){var o=!0;return null===a?n(null):(e(t[a],a,u(function(t){if(t)n(t);else{if(a=i(),null===a)return n(null);o?q.setImmediate(r):r()}})),void(o=!1))}n=c(n||o),t=t||[];var i=v(t),a=i();r()},q.forEachOfLimit=q.eachOfLimit=function(t,e,n,r){w(e)(t,n,r)},q.map=b(x),q.mapSeries=O(x),q.mapLimit=A(x),q.inject=q.foldl=q.reduce=function(t,e,n,r){q.eachOfSeries(t,function(t,r,o){n(e,t,function(t,n){e=n,o(t)})},function(t){r(t,e)})},q.foldr=q.reduceRight=function(t,e,n,r){var o=h(t,i).reverse();q.reduce(o,e,n,r)},q.transform=function(t,e,n,r){3===arguments.length&&(r=n,n=e,e=D(t)?[]:{}),q.eachOf(t,function(t,r,o){n(e,t,r,o)},function(t){r(t,e)})},q.select=q.filter=b(E),q.selectLimit=q.filterLimit=A(E),q.selectSeries=q.filterSeries=O(E),q.reject=b(_),q.rejectLimit=A(_),q.rejectSeries=O(_),q.any=q.some=S(q.eachOf,a,i),q.someLimit=S(q.eachOfLimit,a,i),q.all=q.every=S(q.eachOf,s,s),q.everyLimit=S(q.eachOfLimit,s,s),q.detect=S(q.eachOf,i,j),q.detectSeries=S(q.eachOfSeries,i,j),q.detectLimit=S(q.eachOfLimit,i,j),q.sortBy=function(t,e,n){function r(t,e){var n=t.criteria,r=e.criteria;return r>n?-1:n>r?1:0}q.map(t,function(t,n){e(t,function(e,r){e?n(e):n(null,{value:t,criteria:r})})},function(t,e){return t?n(t):void n(null,h(e.sort(r),function(t){return t.value}))})},q.auto=function(t,e,n){function r(t){v.unshift(t)}function i(t){var e=g(v,t);e>=0&&v.splice(e,1)}function a(){u--,f(v.slice(0),function(t){t()})}"function"==typeof arguments[1]&&(n=e,e=null),n=c(n||o);var s=H(t),u=s.length;if(!u)return n(null);e||(e=u);var l={},h=0,p=!1,v=[];r(function(){u||n(null,l)}),f(s,function(o){function s(){return e>h&&d($,function(t,e){return t&&l.hasOwnProperty(e)},!0)&&!l.hasOwnProperty(o)}function u(){s()&&(h++,i(u),f[f.length-1](v,l))}if(!p){for(var c,f=D(t[o])?t[o]:[t[o]],v=y(function(t,e){if(h--,e.length<=1&&(e=e[0]),t){var r={};m(l,function(t,e){r[e]=t}),r[o]=e,p=!0,n(t,r)}else l[o]=e,q.setImmediate(a)}),$=f.slice(0,f.length-1),w=$.length;w--;){if(!(c=t[$[w]]))throw new Error("Has nonexistent dependency in "+$.join(", "));if(D(c)&&g(c,o)>=0)throw new Error("Has cyclic dependencies")}s()?(h++,f[f.length-1](v,l)):r(u)}})},q.retry=function(t,e,n){function r(t,e){if("number"==typeof e)t.times=parseInt(e,10)||i;else{if("object"!=typeof e)throw new Error("Unsupported argument type for 'times': "+typeof e);t.times=parseInt(e.times,10)||i,t.interval=parseInt(e.interval,10)||a}}function o(t,e){function n(t,n){return function(r){t(function(t,e){r(!t||n,{err:t,result:e})},e)}}function r(t){return function(e){setTimeout(function(){e(null)},t)}}for(;u.times;){var o=!(u.times-=1);s.push(n(u.task,o)),!o&&u.interval>0&&s.push(r(u.interval))}q.series(s,function(e,n){n=n[n.length-1],(t||u.callback)(n.err,n.result)})}var i=5,a=0,s=[],u={times:i,interval:a},c=arguments.length;if(1>c||c>3)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");return 2>=c&&"function"==typeof t&&(n=e,e=t),"function"!=typeof t&&r(u,t),u.callback=n,u.task=e,u.callback?o():o},q.waterfall=function(t,e){function n(t){return y(function(r,o){if(r)e.apply(null,[r].concat(o));else{var i=t.next();i?o.push(n(i)):o.push(e),C(t).apply(null,o)}})}if(e=c(e||o),!D(t)){var r=new Error("First argument to waterfall must be an array of functions");return e(r)}return t.length?void n(q.iterator(t))():e()},q.parallel=function(t,e){T(q.eachOf,t,e)},q.parallelLimit=function(t,e,n){T(w(e),t,n)},q.series=function(t,e){T(q.eachOfSeries,t,e)},q.iterator=function(t){function e(n){function r(){return t.length&&t[n].apply(null,arguments),r.next()}return r.next=function(){return n<t.length-1?e(n+1):null},r}return e(0)},q.apply=y(function(t,e){return y(function(n){return t.apply(null,e.concat(n))})}),q.concat=b(I),q.concatSeries=O(I),q.whilst=function(t,e,n){if(n=n||o,t()){var r=y(function(o,i){o?n(o):t.apply(this,i)?e(r):n.apply(null,[null].concat(i))});e(r)}else n(null)},q.doWhilst=function(t,e,n){var r=0;return q.whilst(function(){return++r<=1||e.apply(this,arguments)},t,n)},q.until=function(t,e,n){return q.whilst(function(){return!t.apply(this,arguments)},e,n)},q.doUntil=function(t,e,n){return q.doWhilst(t,function(){return!e.apply(this,arguments)},n)},q.during=function(t,e,n){n=n||o;var r=y(function(e,r){e?n(e):(r.push(i),t.apply(this,r))}),i=function(t,o){t?n(t):o?e(r):n(null)};t(i)},q.doDuring=function(t,e,n){var r=0;q.during(function(t){r++<1?t(null,!0):e.apply(this,arguments)},t,n)},q.queue=function(t,e){var n=R(function(e,n){t(e[0],n)},e,1);return n},q.priorityQueue=function(t,e){function n(t,e){return t.priority-e.priority}function r(t,e,n){for(var r=-1,o=t.length-1;o>r;){var i=r+(o-r+1>>>1);n(e,t[i])>=0?r=i:o=i-1}return r}function i(t,e,i,a){if(null!=a&&"function"!=typeof a)throw new Error("task callback must be a function");return t.started=!0,D(e)||(e=[e]),0===e.length?q.setImmediate(function(){t.drain()}):void f(e,function(e){var s={data:e,priority:i,callback:"function"==typeof a?a:o};t.tasks.splice(r(t.tasks,s,n)+1,0,s),t.tasks.length===t.concurrency&&t.saturated(),q.setImmediate(t.process)})}var a=q.queue(t,e);return a.push=function(t,e,n){i(a,t,e,n)},delete a.unshift,a},q.cargo=function(t,e){return R(t,1,e)},q.log=N("log"),q.dir=N("dir"),q.memoize=function(t,e){var n={},r={},o=Object.prototype.hasOwnProperty;e=e||i;var a=y(function(i){var a=i.pop(),s=e.apply(null,i);o.call(n,s)?q.setImmediate(function(){a.apply(null,n[s])}):o.call(r,s)?r[s].push(a):(r[s]=[a],t.apply(null,i.concat([y(function(t){n[s]=t;var e=r[s];delete r[s];for(var o=0,i=e.length;i>o;o++)e[o].apply(null,t)})])))});return a.memo=n,a.unmemoized=t,a},q.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},q.times=k(q.map),q.timesSeries=k(q.mapSeries),q.timesLimit=function(t,e,n,r){return q.mapLimit(p(t),e,n,r)},q.seq=function(){var t=arguments;return y(function(e){var n=this,r=e[e.length-1];"function"==typeof r?e.pop():r=o,q.reduce(t,e,function(t,e,r){e.apply(n,t.concat([y(function(t,e){r(t,e)})]))},function(t,e){r.apply(n,[t].concat(e))})})},q.compose=function(){return q.seq.apply(null,Array.prototype.reverse.call(arguments))},q.applyEach=L(q.eachOf),q.applyEachSeries=L(q.eachOfSeries),q.forever=function(t,e){function n(t){return t?r(t):void i(n)}var r=u(e||o),i=C(t);n()},q.ensureAsync=C,q.constant=y(function(t){var e=[null].concat(t);return function(t){return t.apply(this,e)}}),q.wrapSync=q.asyncify=function(t){return y(function(e){var n,r=e.pop();try{n=t.apply(this,e)}catch(o){return r(o)}M(n)&&"function"==typeof n.then?n.then(function(t){r(null,t)})["catch"](function(t){r(t.message?t:new Error(t))}):r(null,n)})},"object"==typeof n&&n.exports?n.exports=q:"function"==typeof t&&t.amd?t([],function(){return q}):U.async=q}()}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:5}],2:[function(t,e,n){(function(){function n(){if("undefined"==typeof window||"undefined"==typeof navigator)return!1;var t,e=!!window.chrome,n=/firefox/i.test(navigator.userAgent);if(n){var r=navigator.userAgent.match(/Firefox\/(\d+\.\d+)/);r&&r[1]&&Number(r[1])&&(t=Number(r[1]))}return e||t>=31}var r=function(){var t=.618033988749895;return l+=t,l%=1,360*l},o="undefined"==typeof window,i=!o&&window.localStorage,a=i.andlogKey||"debug",s=i[a],u=t("andlog"),c=Function.prototype.bind,l=0,f=15,h=function(){},p=i.debugColors||n(),d=null,m=null,g=!1,v={};s&&"!"===s[0]&&"/"===s[1]&&(g=!0,s=s.slice(1)),m=s&&"/"===s[0]&&new RegExp(s.substring(1,s.length-1));for(var y=["log","debug","warn","error","info"],$=0,w=y.length;w>$;$++)h[y[$]]=h;d=function(t){var e,n,o;if(e=t.slice(0,f),e+=Array(f+3-e.length).join(" ")+"|",m){var i=t.match(m);if(!g&&!i||g&&i)return h}if(!c)return h;var a=[u];if(p){v[t]||(v[t]=r());var s=v[t];e="%c"+e,n="color: hsl("+s+",99%,40%); font-weight: bold",a.push(e,n)}else a.push(e);if(arguments.length>1){var l=Array.prototype.slice.call(arguments,1);a=a.concat(l)}return o=c.apply(u.log,a),y.forEach(function(t){o[t]=c.apply(u[t]||o,a)}),o},d.config=function(t){t.padLength&&(f=t.padLength)},"undefined"!=typeof e?e.exports=d:window.bows=d}).call()},{andlog:3}],3:[function(t,e,n){!function(){var t="undefined"==typeof window,r=!t&&window.localStorage,o={};if(t)return void(e.exports=console);var i=r.andlogKey||"debug";if(r&&r[i]&&window.console)o=window.console;else for(var a="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(","),s=a.length,u=function(){};s--;)o[a[s]]=u;"undefined"!=typeof n?e.exports=o:window.console=o}()},{}],4:[function(t,e,n){(function(t){function e(t,e){for(var n=0,r=t.length-1;r>=0;r--){var o=t[r];"."===o?t.splice(r,1):".."===o?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(t){return o.exec(t).slice(1)};n.resolve=function(){for(var n="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var a=i>=0?arguments[i]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(n=a+"/"+n,o="/"===a.charAt(0))}return n=e(r(n.split("/"),function(t){return!!t}),!o).join("/"),(o?"/":"")+n||"."},n.normalize=function(t){var o=n.isAbsolute(t),i="/"===a(t,-1);return t=e(r(t.split("/"),function(t){return!!t}),!o).join("/"),t||o||(t="."),t&&i&&(t+="/"),(o?"/":"")+t},n.isAbsolute=function(t){return"/"===t.charAt(0)},n.join=function(){var t=Array.prototype.slice.call(arguments,0);return n.normalize(r(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},n.relative=function(t,e){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=n.resolve(t).substr(1),e=n.resolve(e).substr(1);for(var o=r(t.split("/")),i=r(e.split("/")),a=Math.min(o.length,i.length),s=a,u=0;a>u;u++)if(o[u]!==i[u]){s=u;break}for(var c=[],u=s;u<o.length;u++)c.push("..");return c=c.concat(i.slice(s)),c.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(t){var e=i(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},n.basename=function(t,e){var n=i(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},n.extname=function(t){return i(t)[3]};var a="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return 0>e&&(e=t.length+e),t.substr(e,n)}}).call(this,t("_process"))},{_process:5}],5:[function(t,e,n){function r(){l=!1,s.length?c=s.concat(c):f=-1,c.length&&o()}function o(){if(!l){var t=setTimeout(r);l=!0;for(var e=c.length;e;){for(s=c,c=[];++f<e;)s&&s[f].run();f=-1,e=c.length}s=null,l=!1,clearTimeout(t)}}function i(t,e){this.fun=t,this.array=e}function a(){}var s,u=e.exports={},c=[],l=!1,f=-1;u.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new i(t,e)),1!==c.length||l||setTimeout(o,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=a,u.addListener=a,u.once=a,u.off=a,u.removeListener=a,u.removeAllListeners=a,u.emit=a,u.binding=function(t){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(t){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],6:[function(e,n,r){(function(e){!function(o){function i(t){throw new RangeError(L[t])}function a(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function s(t,e){var n=t.split("@"),r="";n.length>1&&(r=n[0]+"@",t=n[1]),t=t.replace(k,".");var o=t.split("."),i=a(o,e).join(".");return r+i}function u(t){for(var e,n,r=[],o=0,i=t.length;i>o;)e=t.charCodeAt(o++),e>=55296&&56319>=e&&i>o?(n=t.charCodeAt(o++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),o--)):r.push(e);return r}function c(t){return a(t,function(t){var e="";return t>65535&&(t-=65536,e+=q(t>>>10&1023|55296),t=56320|1023&t),e+=q(t)}).join("")}function l(t){return 10>t-48?t-22:26>t-65?t-65:26>t-97?t-97:O}function f(t,e){return t+22+75*(26>t)-((0!=e)<<5)}function h(t,e,n){var r=0;for(t=n?P(t/S):t>>1,t+=P(t/e);t>C*E>>1;r+=O)t=P(t/C);return P(r+(C+1)*t/(t+_))}function p(t){var e,n,r,o,a,s,u,f,p,d,m=[],g=t.length,v=0,y=T,$=j;for(n=t.lastIndexOf(I),0>n&&(n=0),r=0;n>r;++r)t.charCodeAt(r)>=128&&i("not-basic"),m.push(t.charCodeAt(r));for(o=n>0?n+1:0;g>o;){for(a=v,s=1,u=O;o>=g&&i("invalid-input"),f=l(t.charCodeAt(o++)),(f>=O||f>P((A-v)/s))&&i("overflow"),v+=f*s,p=$>=u?x:u>=$+E?E:u-$,!(p>f);u+=O)d=O-p,s>P(A/d)&&i("overflow"),s*=d;e=m.length+1,$=h(v-a,e,0==a),P(v/e)>A-y&&i("overflow"),y+=P(v/e),v%=e,m.splice(v++,0,y)}return c(m)}function d(t){var e,n,r,o,a,s,c,l,p,d,m,g,v,y,$,w=[];for(t=u(t),g=t.length,e=T,n=0,a=j,s=0;g>s;++s)m=t[s],128>m&&w.push(q(m));for(r=o=w.length,o&&w.push(I);g>r;){for(c=A,s=0;g>s;++s)m=t[s],m>=e&&c>m&&(c=m);for(v=r+1,c-e>P((A-n)/v)&&i("overflow"),n+=(c-e)*v,e=c,s=0;g>s;++s)if(m=t[s],e>m&&++n>A&&i("overflow"),m==e){for(l=n,p=O;d=a>=p?x:p>=a+E?E:p-a,!(d>l);p+=O)$=l-d,y=O-d,w.push(q(f(d+$%y,0))),l=P($/y);w.push(q(f(l,0))),a=h(n,v,r==o),n=0,++r}++n,++e}return w.join("")}function m(t){return s(t,function(t){return R.test(t)?p(t.slice(4).toLowerCase()):t})}function g(t){return s(t,function(t){return N.test(t)?"xn--"+d(t):t})}var v="object"==typeof r&&r&&!r.nodeType&&r,y="object"==typeof n&&n&&!n.nodeType&&n,$="object"==typeof e&&e;($.global===$||$.window===$||$.self===$)&&(o=$);var w,b,A=2147483647,O=36,x=1,E=26,_=38,S=700,j=72,T=128,I="-",R=/^xn--/,N=/[^\x20-\x7E]/,k=/[\x2E\u3002\uFF0E\uFF61]/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=O-x,P=Math.floor,q=String.fromCharCode;if(w={version:"1.3.2",ucs2:{decode:u,encode:c},decode:p,encode:d,toASCII:g,toUnicode:m},"function"==typeof t&&"object"==typeof t.amd&&t.amd)t("punycode",function(){return w});else if(v&&y)if(n.exports==v)y.exports=w;else for(b in w)w.hasOwnProperty(b)&&(v[b]=w[b]);else o.punycode=w}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,n,i){e=e||"&",n=n||"=";var a={};if("string"!=typeof t||0===t.length)return a;var s=/\+/g;t=t.split(e);var u=1e3;i&&"number"==typeof i.maxKeys&&(u=i.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var l=0;c>l;++l){var f,h,p,d,m=t[l].replace(s,"%20"),g=m.indexOf(n);g>=0?(f=m.substr(0,g),h=m.substr(g+1)):(f=m,h=""),p=decodeURIComponent(f),d=decodeURIComponent(h),r(a,p)?o(a[p])?a[p].push(d):a[p]=[a[p],d]:a[p]=d}return a};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],8:[function(t,e,n){"use strict";function r(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var o=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,n,s){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?r(a(t),function(a){var s=encodeURIComponent(o(a))+n;return i(t[a])?r(t[a],function(t){return s+encodeURIComponent(o(t))}).join(e):s+encodeURIComponent(o(t[a]))}).join(e):s?encodeURIComponent(o(s))+n+encodeURIComponent(o(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},a=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},{}],9:[function(t,e,n){"use strict";n.decode=n.parse=t("./decode"),n.encode=n.stringify=t("./encode")},{"./decode":7,"./encode":8}],10:[function(t,e,n){"use strict";function r(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(){}var i="function"!=typeof Object.create?"~":!1;o.prototype._events=void 0,o.prototype.listeners=function(t,e){var n=i?i+t:t,r=this._events&&this._events[n];if(e)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var o=0,a=r.length,s=new Array(a);a>o;o++)s[o]=r[o].fn;return s},o.prototype.emit=function(t,e,n,r,o,a){var s=i?i+t:t;if(!this._events||!this._events[s])return!1;var u,c,l=this._events[s],f=arguments.length;if("function"==typeof l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,r),!0;case 5:return l.fn.call(l.context,e,n,r,o),!0;case 6:return l.fn.call(l.context,e,n,r,o,a),!0}for(c=1,u=new Array(f-1);f>c;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var h,p=l.length;for(c=0;p>c;c++)switch(l[c].once&&this.removeListener(t,l[c].fn,void 0,!0),f){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,e);break;case 3:l[c].fn.call(l[c].context,e,n);break;default:if(!u)for(h=1,u=new Array(f-1);f>h;h++)u[h-1]=arguments[h];l[c].fn.apply(l[c].context,u)}}return!0},o.prototype.on=function(t,e,n){var o=new r(e,n||this),a=i?i+t:t;return this._events||(this._events=i?{}:Object.create(null)),this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):this._events[a]=o,this},o.prototype.once=function(t,e,n){var o=new r(e,n||this,!0),a=i?i+t:t;return this._events||(this._events=i?{}:Object.create(null)),this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):this._events[a]=o,this},o.prototype.removeListener=function(t,e,n,r){var o=i?i+t:t;if(!this._events||!this._events[o])return this;var a=this._events[o],s=[];if(e)if(a.fn)(a.fn!==e||r&&!a.once||n&&a.context!==n)&&s.push(a);else for(var u=0,c=a.length;c>u;u++)(a[u].fn!==e||r&&!a[u].once||n&&a[u].context!==n)&&s.push(a[u]);return s.length?this._events[o]=1===s.length?s[0]:s:delete this._events[o],this},o.prototype.removeAllListeners=function(t){return this._events?(t?delete this._events[i?i+t:t]:this._events=i?{}:Object.create(null),this):this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=i,"undefined"!=typeof e&&(e.exports=o)},{}],11:[function(t,e,n){"use strict";function r(t,e,n){if(!t)throw new TypeError("argument dest is required");if(!e)throw new TypeError("argument src is required");return void 0===n&&(n=!0),Object.getOwnPropertyNames(e).forEach(function(r){if(n||!o.call(t,r)){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,i)}}),t}e.exports=r;var o=Object.prototype.hasOwnProperty},{}],12:[function(t,e,n){function r(t){for(var e,n=[],r=0,o=0,i="";null!=(e=g.exec(t));){var a=e[0],u=e[1],c=e.index;if(i+=t.slice(o,c),o=c+a.length,u)i+=u[1];else{i&&(n.push(i),i="");var l=e[2],f=e[3],h=e[4],p=e[5],d=e[6],m=e[7],v="+"===d||"*"===d,y="?"===d||"*"===d,$=l||"/",w=h||p||(m?".*":"[^"+$+"]+?");n.push({name:f||r++,prefix:l||"",delimiter:$,optional:y,repeat:v,pattern:s(w)})}}return o<t.length&&(i+=t.substr(o)),i&&n.push(i),n}function o(t){return i(r(t))}function i(t){for(var e=new Array(t.length),n=0;n<t.length;n++)"object"==typeof t[n]&&(e[n]=new RegExp("^"+t[n].pattern+"$"));return function(n){for(var r="",o=n||{},i=0;i<t.length;i++){var a=t[i];if("string"!=typeof a){var s,u=o[a.name];if(null==u){if(a.optional)continue;throw new TypeError('Expected "'+a.name+'" to be defined')}if(m(u)){if(!a.repeat)throw new TypeError('Expected "'+a.name+'" to not repeat, but received "'+u+'"');if(0===u.length){if(a.optional)continue;throw new TypeError('Expected "'+a.name+'" to not be empty')}for(var c=0;c<u.length;c++){if(s=encodeURIComponent(u[c]),!e[i].test(s))throw new TypeError('Expected all "'+a.name+'" to match "'+a.pattern+'", but received "'+s+'"');r+=(0===c?a.prefix:a.delimiter)+s}}else{if(s=encodeURIComponent(u),!e[i].test(s))throw new TypeError('Expected "'+a.name+'" to match "'+a.pattern+'", but received "'+s+'"');r+=a.prefix+s}}else r+=a}return r}}function a(t){return t.replace(/([.+*?=^!:${}()[\]|\/])/g,"\\$1")}function s(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function u(t,e){return t.keys=e,t}function c(t){return t.sensitive?"":"i"}function l(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return u(t,e)}function f(t,e,n){for(var r=[],o=0;o<t.length;o++)r.push(d(t[o],e,n).source);var i=new RegExp("(?:"+r.join("|")+")",c(n));return u(i,e)}function h(t,e,n){for(var o=r(t),i=p(o,n),a=0;a<o.length;a++)"string"!=typeof o[a]&&e.push(o[a]);return u(i,e)}function p(t,e){e=e||{};for(var n=e.strict,r=e.end!==!1,o="",i=t[t.length-1],s="string"==typeof i&&/\/$/.test(i),u=0;u<t.length;u++){var l=t[u];if("string"==typeof l)o+=a(l);else{var f=a(l.prefix),h=l.pattern;l.repeat&&(h+="(?:"+f+h+")*"),h=l.optional?f?"(?:"+f+"("+h+"))?":"("+h+")?":f+"("+h+")",o+=h}}return n||(o=(s?o.slice(0,-2):o)+"(?:\\/(?=$))?"),o+=r?"$":n&&s?"":"(?=\\/|$)",new RegExp("^"+o,c(e))}function d(t,e,n){return e=e||[],m(e)?n||(n={}):(n=e,e=[]),t instanceof RegExp?l(t,e,n):m(t)?f(t,e,n):h(t,e,n)}var m=t("isarray");e.exports=d,e.exports.parse=r,e.exports.compile=o,e.exports.tokensToFunction=i,e.exports.tokensToRegExp=p;var g=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))"].join("|"),"g")},{isarray:13}],13:[function(t,e,n){e.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},{}],14:[function(t,e,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function o(t,e,n){if(t&&c.isObject(t)&&t instanceof r)return t;var o=new r;return o.parse(t,e,n),o}function i(t){return c.isString(t)&&(t=o(t)),t instanceof r?t.format():r.prototype.format.call(t)}function a(t,e){return o(t,!1,!0).resolve(e)}function s(t,e){return t?o(t,!1,!0).resolveObject(e):e}var u=t("punycode"),c=t("./util");n.parse=o,n.resolve=a,n.resolveObject=s,n.format=i,n.Url=r;var l=/^([a-z0-9.+-]+:)/i,f=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,p=["<",">",'"',"`"," ","\r","\n","	"],d=["{","}","|","\\","^","`"].concat(p),m=["'"].concat(d),g=["%","/","?",";","#"].concat(m),v=["/","?","#"],y=255,$=/^[+a-z0-9A-Z_-]{0,63}$/,w=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,b={javascript:!0,"javascript:":!0},A={javascript:!0,"javascript:":!0},O={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},x=t("querystring");r.prototype.parse=function(t,e,n){if(!c.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),o=-1!==r&&r<t.indexOf("#")?"?":"#",i=t.split(o),a=/\\/g;i[0]=i[0].replace(a,"/"),t=i.join(o);var s=t;if(s=s.trim(),!n&&1===t.split("#").length){var f=h.exec(s);if(f)return this.path=s,this.href=s,this.pathname=f[1],f[2]?(this.search=f[2],e?this.query=x.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var p=l.exec(s);if(p){p=p[0];var d=p.toLowerCase();this.protocol=d,s=s.substr(p.length)}if(n||p||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===s.substr(0,2);!E||p&&A[p]||(s=s.substr(2),this.slashes=!0)}if(!A[p]&&(E||p&&!O[p])){for(var _=-1,S=0;S<v.length;S++){var j=s.indexOf(v[S]);-1!==j&&(-1===_||_>j)&&(_=j)}var T,I;I=-1===_?s.lastIndexOf("@"):s.lastIndexOf("@",_),-1!==I&&(T=s.slice(0,I),s=s.slice(I+1),this.auth=decodeURIComponent(T)),_=-1;for(var S=0;S<g.length;S++){var j=s.indexOf(g[S]);-1!==j&&(-1===_||_>j)&&(_=j)}-1===_&&(_=s.length),this.host=s.slice(0,_),s=s.slice(_),this.parseHost(),this.hostname=this.hostname||"";var R="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!R)for(var N=this.hostname.split(/\./),S=0,k=N.length;k>S;S++){var L=N[S];if(L&&!L.match($)){for(var C="",P=0,q=L.length;q>P;P++)C+=L.charCodeAt(P)>127?"x":L[P];if(!C.match($)){var U=N.slice(0,S),F=N.slice(S+1),D=L.match(w);D&&(U.push(D[1]),F.unshift(D[2])),F.length&&(s="/"+F.join(".")+s),this.hostname=U.join(".");break}}}this.hostname.length>y?this.hostname="":this.hostname=this.hostname.toLowerCase(),R||(this.hostname=u.toASCII(this.hostname));var M=this.port?":"+this.port:"",H=this.hostname||"";this.host=H+M,this.href+=this.host,R&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!b[d])for(var S=0,k=m.length;k>S;S++){var W=m[S];if(-1!==s.indexOf(W)){var B=encodeURIComponent(W);B===W&&(B=escape(W)),s=s.split(W).join(B)}}var G=s.indexOf("#");-1!==G&&(this.hash=s.substr(G),s=s.slice(0,G));var z=s.indexOf("?");if(-1!==z?(this.search=s.substr(z),this.query=s.substr(z+1),e&&(this.query=x.parse(this.query)),s=s.slice(0,z)):e&&(this.search="",this.query={}),s&&(this.pathname=s),O[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var M=this.pathname||"",V=this.search||"";this.path=M+V}return this.href=this.format(),this},r.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,i="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),
this.port&&(o+=":"+this.port)),this.query&&c.isObject(this.query)&&Object.keys(this.query).length&&(i=x.stringify(this.query));var a=this.search||i&&"?"+i||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||O[e])&&o!==!1?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),a=a.replace("#","%23"),e+o+n+a+r},r.prototype.resolve=function(t){return this.resolveObject(o(t,!1,!0)).format()},r.prototype.resolveObject=function(t){if(c.isString(t)){var e=new r;e.parse(t,!1,!0),t=e}for(var n=new r,o=Object.keys(this),i=0;i<o.length;i++){var a=o[i];n[a]=this[a]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),u=0;u<s.length;u++){var l=s[u];"protocol"!==l&&(n[l]=t[l])}return O[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!O[t.protocol]){for(var f=Object.keys(t),h=0;h<f.length;h++){var p=f[h];n[p]=t[p]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||A[t.protocol])n.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var m=n.pathname||"",g=n.search||"";n.path=m+g}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var v=n.pathname&&"/"===n.pathname.charAt(0),y=t.host||t.pathname&&"/"===t.pathname.charAt(0),$=y||v||n.host&&t.pathname,w=$,b=n.pathname&&n.pathname.split("/")||[],d=t.pathname&&t.pathname.split("/")||[],x=n.protocol&&!O[n.protocol];if(x&&(n.hostname="",n.port=null,n.host&&(""===b[0]?b[0]=n.host:b.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),$=$&&(""===d[0]||""===b[0])),y)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,b=d;else if(d.length)b||(b=[]),b.pop(),b=b.concat(d),n.search=t.search,n.query=t.query;else if(!c.isNullOrUndefined(t.search)){if(x){n.hostname=n.host=b.shift();var E=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;E&&(n.auth=E.shift(),n.host=n.hostname=E.shift())}return n.search=t.search,n.query=t.query,c.isNull(n.pathname)&&c.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!b.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var _=b.slice(-1)[0],S=(n.host||t.host||b.length>1)&&("."===_||".."===_)||""===_,j=0,T=b.length;T>=0;T--)_=b[T],"."===_?b.splice(T,1):".."===_?(b.splice(T,1),j++):j&&(b.splice(T,1),j--);if(!$&&!w)for(;j--;j)b.unshift("..");!$||""===b[0]||b[0]&&"/"===b[0].charAt(0)||b.unshift(""),S&&"/"!==b.join("/").substr(-1)&&b.push("");var I=""===b[0]||b[0]&&"/"===b[0].charAt(0);if(x){n.hostname=n.host=I?"":b.length?b.shift():"";var E=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;E&&(n.auth=E.shift(),n.host=n.hostname=E.shift())}return $=$||n.host&&b.length,$&&!I&&b.unshift(""),b.length?n.pathname=b.join("/"):(n.pathname=null,n.path=null),c.isNull(n.pathname)&&c.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var t=this.host,e=f.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{"./util":15,punycode:6,querystring:9}],15:[function(t,e,n){"use strict";e.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},{}],16:[function(t,e,n){n=e.exports=function(t,e){if(t&&e)for(var n in e)t[n]=e[n];return t}},{}],17:[function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(){var t={"case sensitive routing":!1,env:window.env&&(window.env.TRASHPANDA_ENV||window.env.NODE_ENV)||"development",etag:"weak","jsonp callback name":"callback","json replacer":null,"json spaces":0,"query parser":"extended","strict routing":!1,"subdomain offset":2,views:null,"view engine":null,"x-powered-by":!0,bootstrap:!1};return t["view cache"]="production"===t.env,t}function i(t,e){if(!t)return[];if(!$.isArrayOfStrings(t))throw new Error("Application dependencies should be an array of dependency names.");var n=t.map(function(t){return e.hasOwnProperty(t)||(e[t]=O(t)),e[t]});return n}function a(t,e){if(!$.isArrayOfStrings(t))throw new Error("Application dependencies should be an array of dependency names.");var n=t.map(function(t){if(!e.hasOwnProperty(t))throw new Error("Dependency "+t+" not available or was not inited properly.");return e[t]});return n}function s(t,e,n,r){r=r||(t.root?t:null),t.childApps.forEach(function(t){s(t,e,n,r)}),t.state==_.preInit&&(x("Initing app "+t.name+"...")(),t.dependencies=i(t.dependencies,e),t.state=_.inited,n[t.name]=t,t.emit("init",t),x("Initing app "+t.name+"...[DONE]")())}function u(t,e){var n=Object.keys(t);n.forEach(function(n){return e(t[n])})}function c(t){x("Loading apps...")(),u(t,function(e){x("Loading app "+e.name+"...")(),e.state==_.inited&&(e.dependencies=a(e.dependencies,t),e.state=_.loaded,e.emit("load",e)),x("Loading app "+e.name+"...[DONE]")()}),x("Loading apps...[DONE]")()}function l(t,e){x("Reconciling event handlers...")(),u(e,function(e){x("Reconciling event handlers for app "+e.name+"...")();var n=t[e.name];n&&n.reconcile(e),x("Reconciling event handlers for app "+e.name+"...[DONE]")()}),x("Reconciling event handlers...[DONE]")()}function f(t,e){function n(n,r,o,i){if(n)x("Error while resolving "+e+":\n"+n.message+"\n"+n.stack)();else if(x("Resolving url: "+e+"... [Done]["+r+"]")(),i)return f(t,i,a);a&&a(n,o)}var r=arguments.length<=2||void 0===arguments[2]?null:arguments[2],o=arguments.length<=3||void 0===arguments[3]?"get":arguments[3],i=arguments.length<=4||void 0===arguments[4]?null:arguments[4],a=arguments[5];x("Resolving url: "+e+"...")();var s=b({app:t,url:e,router:t.router,method:o,data:i,target:r}),u=A({app:t,req:s,router:t.router,callback:n});return t.router.resolve(s,u,n)}function h(t){T=t}function p(t){function e(e){var n=e.currentTarget;if(n){var r=n.getAttribute("href");if(r){var o=n.getAttribute("target"),i=t.getAuthoritativeApp();if(!i)throw new Error("No authoritative app found. Invalid application state.");var a=i.resolveUrl(r,null,o);a&&e.preventDefault()}}}function n(t){Array.prototype.forEach.call(t,function(t){$.isObjectOfType(t,window.HTMLAnchorElement)&&t.addEventListener("click",e),t.childNodes&&t.childNodes.length&&n(t.childNodes)})}var r=t.get("mountNode");if(!$.isObjectOfType(r,window.Node))throw new Error("Mount node has to be a Node (see https://developer.mozilla.org/en/docs/Web/API/Node).");var o=new MutationObserver(function(t){t.forEach(function(t){n(t.addedNodes)})});o.observe(document.documentElement,{childList:!0,subtree:!0}),t.enabled("bootstrap")&&n(r.childNodes)}function d(t,e){t.set("mountNode",e),h(t),p(t)}function m(t,e){function n(t){var n=this;if(e!==!0)throw new Error("TrashPandaApplication cannot be instantiated directly. Use 'TrashPanda({name:<myApp>})' to get a new TrashPandaApplication.");if(!t||!t.name)throw new Error("TrashPandaApplication's must have a name property. Ex: TrashPanda({name:<myApp>}).");g.call(this),this.mountPath=E,this.state=_.preInit,Object.defineProperty(this,"name",{enumerable:!0,configurable:!1,get:function(){return t.name}}),this.locals={settings:o()},this.on("mount",function(t){n._parent=t})}var i=void 0,a=[],u=Object.create(g.prototype);n.prototype=u;var p=n.prototype.emit;return n.prototype.emit=function(){for(var t=["mount","init"],e=arguments.length,n=Array(e),r=0;e>r;r++)n[r]=arguments[r];if(-1==t.indexOf(n[0])&&this.state!=_.loaded)throw new Error("Cannot emit events if application state is not '"+_.loaded+"'");p.call.apply(p,[this].concat(n))},Object.defineProperty(n.prototype,"router",{enumerable:!0,configurable:!1,get:function(){return i=i||w({app:this,setAsAuthoritativeApp:h.bind(null,this),sensitive:this.get("case sensitive routing"),strict:this.get("strict routing")})}}),Object.defineProperty(n.prototype,"childApps",{enumerable:!0,configurable:!1,get:function(){return a}}),["route","resolve","checkout","connect","copy","delete","head","lock","merge","mkactivity","mkcol","move","m-search","notify","options","patch","post","propfind","proppatch","purge","put","report","search","subscribe","trace","unlock","unsubscribe"].forEach(function(t){n.prototype[t]=function(){var e;(e=this.router)[t].apply(e,arguments)}}),n.prototype.disable=function(t){this.set(t,!1)},n.prototype.disabled=function(t){return!this.enabled(t)},n.prototype.enable=function(t){this.set(t,!0)},n.prototype.enabled=function(t){return $.toBoolean(this.get(t))},n.prototype.get=function(t,e){var n;return $.isString(t)&&!e?this.locals.settings[t]:void(n=this.router).get.apply(n,arguments)},n.prototype.set=function(t,e){this.locals.settings[t]=e},n.prototype.engine=function(t,e){var n=$.isArrayOfStrings(t);if(!n&&!$.isString(t))throw new Error("Extension should be a string or an array of strings.");if(!$.isFunction(e))throw new Error("Renderer should be a function.");t=n?t:[t],t.forEach(function(t){return I.engines[t]=e})},n.prototype.load=function(){function t(){var t=(arguments.length<=0||void 0===arguments[0]?null:arguments[0],arguments.length<=1||void 0===arguments[1]?t:arguments[1]);x("Initing application...")(),n.root=!0;var e=n.get("mountNode")||"div.tp-mount-node";R=document.querySelectorAll(e)[0];var r=!!R;r||(R=document.createElement("div"),R.setAttribute("class","tp-mount-node"),document.body.appendChild(R)),d(n,R),s(n,j,S,n),l(j,S),c(S),x("Initing application...[DONE]")(),n.enabled("bootstrap")&&r?x("Bootstrap enabled. Not resolving initial url "+window.location.href+".")():(n.enabled("bootstrap")&&x("MountNode ("+e+") does not exist. Not bootstrapping.")(),f(n,window.location.href)),n.disable("bootstrap"),$.isFunction(t)&&t()}var e=arguments.length<=0||void 0===arguments[0]?!0:arguments[0],n=(arguments[1],this);return e?(x("Waiting for DOMContentLoaded to fire before initing application...")(),void window.addEventListener("DOMContentLoaded",function(e){x("DOMContentLoaded fired.")(),t(e)})):t()},n.prototype.render=function(t){function e(t,e,n){var r=t(e);s.mount&&($.isFunction(a.mount)?a.mount(R,r):R.innerHTML=r),n(null,r,s)}function n(n,r,o){var i=a.compile(n,r);s.cache&&(I.cache[t]=i),e(i,r,o)}var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=arguments[2],i=y.extname(t),a=I.engines[i];if(!a){if(a=this.get("view engine"),!a)throw new Error("No view engine available for file extension '"+i+"'. Register an engine for this file extension by using 'app.engine'.");x("No view engine available for file extension '"+i+"'. Using default view engine. Register an engine for this file extension by using 'app.engine'.")()}var s={};if(v(s,this.locals),v(s,r._locals),v(s,r),s.cache=s.hasOwnProperty("cache")?s.cache:this.enabled("view cache"),s.cache){var u=I.cache[t];e(u,s,o)}else{var c=this.get("views");$.isObject(c)&&(c=c[t]),$.isObject(t)&&(c=t),c||(c=$.xhr),$.isFunction(c)?c(t,function(e,r){return e?o(new Error("Error occurred while looking up view "+t+":\n"+e.message+"\n"+e.stack)):void n(r,s,o)}):n(c,s,o)}},n.prototype.use=function(){for(var t=this,e=arguments.length,n=Array(e),o=0;e>o;o++)n[o]=arguments[o];var i=void 0;($.isString(n[0])||$.isArrayOfStrings(n[0]))&&(i=n.shift()),i=i||E,n=$.flattenArray(n),n.forEach(function(e){var n=$.isTrashPandaApplication(e);if(!n&&!$.isFunction(e))throw new Error("Middleware should be a function or a TrashPandaApplication.");if(!n)return t.router.use(i,e);if(a.push(e),function(t){e.get("view engine")||e.set("view engine",t.get("view engine"));var n={};v(n,t.locals),v(n,e.locals),e.locals=n}(t),e.mountPath==E)e.mountPath=i;else{var o;e.mountPath=$.isArray(e.mountPath)?e.mountPath:[e.mountPath],$.isArray(i)?(o=e.mountPath).push.apply(o,r(i)):e.mountPath.push(i)}t.router.use(i,e.resolve.bind(e)),e.emit&&$.isFunction(e.emit)&&e.emit("mount",t)})},n.prototype.resolveUrl=function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1],n=arguments.length<=2||void 0===arguments[2]?null:arguments[2],r=arguments[3];if(T!=this){var o=new Error(this.name+" does not have authority to initiate redirections. Get the authoritative app using 'app.getAuthoritativeApp()'.");return o.code="NOAUTHORITY",r(o)}if($.isFunction(t)&&(t=t()),!$.isString(t))throw new Error("url should be a string or a function returning a string.");var i=e?"post":"get";return f(this,t,n,i,e,r)},n.prototype.getAuthoritativeApp=function(){return T},new n(t)}var g=t("eventemitter3"),v=(t("merge-descriptors"),t("utils-merge")),y=t("path"),$=t("./utils"),w=t("./router"),b=t("./request"),A=t("./response"),O=t("./mockDependency"),x=$.debug("TrashPanda:app"),E="/",_={loaded:"loaded",inited:"inited",preInit:"preInit"},S={},j={},T=void 0,I={engines:{},cache:{}},R=void 0;e.exports=m},{"./mockDependency":19,"./request":20,"./response":21,"./router":22,"./utils":23,eventemitter3:10,"merge-descriptors":11,path:4,"utils-merge":16}],18:[function(t,e,n){"use strict";function r(t){function e(t){return o(t,!0)}return e(t)}var o=t("./application"),i=t("./utils"),a=i.debug("TrashPanda"),s="\n ________                            __        _______                            __\n/        |                          /  |      /       \\                          /  |\n$$$$$$$$/______   ______    _______ $$ |____  $$$$$$$  | ______   _______    ____$$ |  ______\n   $$ | /      \\ /      \\  /       |$$      \\ $$ |__$$ |/      \\ /       \\  /    $$ | /      \\\n   $$ |/$$$$$$  |$$$$$$  |/$$$$$$$/ $$$$$$$  |$$    $$/ $$$$$$  |$$$$$$$  |/$$$$$$$ | $$$$$$  |\n   $$ |$$ |  $$/ /    $$ |$$      \\ $$ |  $$ |$$$$$$$/  /    $$ |$$ |  $$ |$$ |  $$ | /    $$ |\n   $$ |$$ |     /$$$$$$$ | $$$$$$  |$$ |  $$ |$$ |     /$$$$$$$ |$$ |  $$ |$$ \\__$$ |/$$$$$$$ |\n   $$ |$$ |     $$    $$ |/     $$/ $$ |  $$ |$$ |     $$    $$ |$$ |  $$ |$$    $$ |$$    $$ |\n   $$/ $$/       $$$$$$$/ $$$$$$$/  $$/   $$/ $$/       $$$$$$$/ $$/   $$/  $$$$$$$/  $$$$$$$/\n\n",u='\nCopyright (c) 2016, Balaganesh Damodaran <trashpanda@bgdam.com>\n\nPermission to use, copy, modify, and/or distribute this software for\nany purpose with or without fee is hereby granted, provided that the\nabove copyright notice and this permission notice appear in all copies.\n\nTHE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES\nWITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF\nMERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE\nFOR ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY\nDAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER\nIN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING\nOUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n';a(s)(),a(u)(),e.exports=r},{"./application":17,"./utils":23}],19:[function(t,e,n){"use strict";function r(t){function e(t){this.name=t}var n=[];return e.prototype.on=function(t,e,r){n.push({eventName:t,handler:e,context:r})},e.prototype.addListener=e.prototype.on,e.prototype.off=function(t,e,r){n=n.filter(function(n){return!(n.eventName==t&&n.handler==e&&n.context==r)})},e.prototype.removeListener=e.prototype.on,e.prototype.reconcile=function(t){n.forEach(function(e){t.on(e.eventName,e.handler,e.context)})},new e(t)}e.exports=r},{}],20:[function(t,e,n){"use strict";function r(t){return"/"!=t[0]?"/"+t:t}function o(t){function e(t,e){var n=t.mountPath;n=u.isArray(n)?n:[n];var r=void 0;return n.every(function(n){var o=[],a=i(n,o,{sensitive:t.get("case sensitive routing"),strict:t.get("strict routing"),end:!1}),s=a.exec(e);return s[0]&&0==e.indexOf(s[0])&&(r=s[0]),!r}),r}function n(t){o=t.url,this.app=t.app;var n=a.parse(o,!0);s(this,n),this.method=t.method,this.baseUrl=e(this.app,this.path),this.originalUrl=this.path,this.path=r(this.path.replace(this.baseUrl,"")),this.url=this.path,(this.protocol!=window.location.protocol||this.host!=window.location.host)&&(this.originalUrl=o,this.url=o),this.pathname=r(this.pathname.replace(this.baseUrl,"")),this.body=t.data,this.target=t.target}var o=void 0;return n.prototype.update=function(t){s(this,t)},new n(t)}var i=t("path-to-regexp"),a=t("url"),s=t("utils-merge"),u=t("./utils");e.exports=o},{"./utils":23,"path-to-regexp":12,url:14,"utils-merge":16}],21:[function(t,e,n){"use strict";function r(t){function e(t){this.app=t.app,this.req=t.req,this.router=t.router,n=t.callback,u=!1,this.locals={}}var n=void 0,r=void 0,s=void 0,u=void 0;return e.prototype.end=function(t,e){if(u){var o=new Error("Response already sent. Cannot resend.");return o.code="CANTRESEND",n(o)}return this.status(r||200),u=!0,this.router.setAsAuthoritativeRouter(),s&&(document.title=s),i.isFunction(n)&&n(null,r,t,e),this},["json","send"].forEach(function(t){e.prototype[t]=function(){return this.end.apply(this,arguments)}}),e.prototype.redirect=function(){var t=arguments.length<=0||void 0===arguments[0]?302:arguments[0],e=arguments[1];return this.status(t).end(null,e)},e.prototype.render=function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=arguments[2],o={_locals:n,mount:!r};this.app.render(t,o,r||function(t,n){if(!t)return e.status(200).send(n);var r="Render failed with error:\n"+t.message+"\n"+t.stack;return a(r)(),e.status(500).send(r)})},e.prototype.sendStatus=function(t){var e={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"Switch Proxy",307:"Temporary Redirect",308:"Permanent Redirect",308:"Resume Incomplete",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",510:"Not Extended",511:"Network Authentication Required"},n=e[t]||t;return this.status(t).send(n)},e.prototype.status=function(t){return r=t,this},e.prototype.update=function(t){o(this,t)},e.prototype.title=function(t){s=t},new e(t)}var o=(t("path-to-regexp"),t("utils-merge")),i=t("./utils"),a=i.debug("TrashPanda:response");e.exports=r},{"./utils":23,"path-to-regexp":12,"utils-merge":16}],22:[function(t,e,n){"use strict";function r(t){function e(t,e){var n=arguments.length<=2||void 0===arguments[2]?"all":arguments[2],a=arguments.length<=3||void 0===arguments[3]?!1:arguments[3],s=[],u={};i(u,r),u.end=!a;var l=o(t,s,u),f=l.toString();c[f]=c[f]||{},c[f].matcher=c[f].matcher||l,s.length&&(c[f].params=c[f].params||s.map(function(t){return t.name})),e.route=t,e.method=n,c[f].handlers=c[f].handlers||[],c[f].handlers.push(e)}function n(t){i(r,t)}var r={},c={},l=["all","get","checkout","connect","copy","delete","head","lock","merge","mkactivity","mkcol","move","m-search","notify","options","patch","post","propfind","proppatch","purge","put","report","search","subscribe","trace","unlock","unsubscribe"];return n.prototype.use=function(t,n){e(t,n)},n.prototype.route=function(t){var e=this,n={};return l.forEach(function(r){return n[r]=e[r].bind(e,t)}),n},l.forEach(function(t){n.prototype[t]=function(n,r){for(var o=arguments.length,i=Array(o>2?o-2:0),a=2;o>a;a++)i[a-2]=arguments[a];e.apply(void 0,[n,r,t].concat(i))}}),n.prototype.resolve=function(t,e,n){function o(t,e,n,o){var a={};u.isArray(n.params)&&n.params.forEach(function(t,e){return a[t]=n.matches[e+1]}),t.update({params:a,route:n.exec.route,router:i,app:r.app}),e.update({router:i,app:r.app}),n.exec(t,e,o)}var i=this,l=[],f=[],h=a.parse(t.url),p=h.pathname,d=!1;if(!(h.host&&h.host!=window.location.host||h.protocol&&h.protocol!=window.location.protocol)){var m={_self:window,_parent:window.parent,_top:window.top};d=t.target?m[t.target]==window:!0}if(!d)return!1;var g=Object.keys(c);return g.forEach(function(e){var n=c[e].matcher,r=n.exec(p);if(r&&r[0]&&0==p.indexOf(r[0])){var o=c[e].handlers;o.forEach(function(n){if(-1!=["all",t.method].indexOf(n.method)){var o=n.errorHandler?f:l;o.push({exec:n,params:c[e].params,matches:r})}})}}),l.length?(s.eachSeries(l,o.bind(null,t,e),function(r){return r?void s.eachSeries(f,o.bind(null,t,e),function(t){return t&&e.sendStatus(500),n(t)}):n()}),!0):e.sendStatus(404)},n.prototype.setAsAuthoritativeRouter=function(){r.setAsAuthoritativeApp()},new n(t)}var o=t("path-to-regexp"),i=t("utils-merge"),a=t("url"),s=t("async"),u=t("./utils");e.exports=r},{"./utils":23,async:1,"path-to-regexp":12,url:14,"utils-merge":16}],23:[function(t,e,n){"use strict";var r=t("utils-merge"),o=t("bows"),i=t("./types"),a=t("./objects"),s={},u={};r(u,i),r(u,a),u.xhr=function(t,e){try{!function(){var n=new XMLHttpRequest;n.open("GET",t),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.onreadystatechange=function(){return n.readyState<4?void 0:i.isFunction(e)?200==n.status?e(null,n.response):e(n):void 0},n.send()}()}catch(n){i.isFunction(e)&&e(new Error("XHR request failed:\n"+n.message+"\n"+n.stack))}},u.debug=function(t){return s[t]||(s[t]=o(t)),function(e){var n=Date.now(),r=n-(s[t].lastCalled||n);return s[t].lastCalled=n,s[t].bind(null,e,"+"+r+"ms")}},e.exports=u},{"./objects":24,"./types":25,bows:2,"utils-merge":16}],24:[function(t,e,n){"use strict";var r=t("./types"),o={"boolean":function(t,e){this[t]=r.toBoolean(e)},string:function(t,e){this[t]=r.toString(e)},integer:function(t,e){this[t]=r.toInteger(e)}},i={"private":function(t){return this[t]}};e.exports={setters:o,getters:i}},{"./types":25}],25:[function(t,e,n){"use strict";function r(t,e){return Object.prototype.toString.call(t)==="[object "+e+"]"}function o(t){return r(t,"Boolean")}function i(t){return r(t,"String")}function a(t){return r(t,"Array")}function s(t,e){if(a(t)){var n=!0;return t.every(function(t){return n=r(t,e)}),n}return!1}function u(t){return s(t,"String")}function c(t){return r(t,"Function")}function l(t){return"object"==("undefined"==typeof t?"undefined":y(t))&&null!=t}function f(t,e){return l(t)&&t instanceof e}function h(t){return!!t}function p(t){return new String(t)}function d(t){return new Number(parseInt(t))}function m(t){return t.reduce(function(t,e){return t=Array.isArray(t)?t:[t],e=Array.isArray(e)?e:[e],t.concat(e)},[])}function g(t,e){if(!t.hasOwnProperty)return!1;var n=e.filter(function(e){return t.hasOwnProperty(e)});return!n.length}function v(t){return g(t,["use","load","engine"])}var y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};e.exports={toBoolean:h,toString:p,toInteger:d,isBoolean:o,isString:i,isFunction:c,isObject:l,isObjectOfType:f,isArray:a,isArrayOfStrings:u,hasProperties:g,isTrashPandaApplication:v,flattenArray:m}},{}]},{},[18])(18)});